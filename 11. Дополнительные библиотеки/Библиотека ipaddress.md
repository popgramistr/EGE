# Использование библиотеки ipaddress

Библиотека `ipaddress` предоставляет удобные методы для работы с IP-адресами и сетями. Основные способы создания IP-адреса:

## 1. Функция ip_network

Функция `ip_network()` создает объект сети с указанным адресом и маской подсети:

```python
from ipaddress import ip_network, IPv4Network

# Способ 1: CIDR нотация (адрес/префикс)
network1 = ip_network('192.168.1.0/24')
print(network1)  # 192.168.1.0/24

# Способ 2: Явное указание маски
network2 = ip_network('192.168.1.0/255.255.255.0', False)
print(network2)  # 192.168.1.0/24
```

### Пояснение CIDR нотации

**CIDR** (Classless Inter-Domain Routing) - это нотация для представления IP-сетей вида `адрес/префикс`:
- **Адрес** - IP-адрес (например, 192.168.1.0)
- **Префикс** - количество бит, определяющих сетевую часть (кол-во единиц в двоичной записи)

Примеры:
- `192.168.1.0/24` - сеть с 256 адресами (192.168.1.0 - 192.168.1.255)
- `10.0.0.0/8` - большая сеть с 16 777 216 адресами
- `172.16.0.0/12` - сеть с 1 048 576 адресами

Соответствие префиксов маскам подсети:
- `/24` → 255.255.255.0 (11111111 11111111 11111111 00000000)
- `/25` → 255.255.255.128 
- `/16` → 255.255.0.0
- `/8` → 255.0.0.0
- `/32` → 255.255.255.255 (один адрес)

## 2. Методы и свойства объекта network

Объект сети имеет множество полезных свойств и методов:

```python
from ipaddress import ip_network

network = ip_network('192.168.1.0/24')

# Свойства:
print(network.network_address)      # 192.168.1.0 (адрес сети)
print(network.broadcast_address)    # 192.168.1.255 (broadcast адрес)
print(network.netmask)              # 255.255.255.0 (маска подсети)
print(network.num_addresses)        # 256 (всего адресов)

# Проверка принадлежности адреса сети
from ipaddress import ip_address
ip = ip_address('192.168.1.50')
print(ip in network)  # True

# Методы:
print(network.hosts())              # генератор хост-адресов (от 1 до 254 для /24)
print(list(network.hosts())[:3])    # первые 3 хоста
```

## 3. Способы преобразования IP адреса в бинарный вид

```python
from ipaddress import ip_address, IPv6Address

# IP адрес в бинарный вид
ip = ip_address('192.168.1.1')
print(bin(int(ip))) # 0b11000000101010000000000100000001
print(f'{ip:b}') # 11000000101010000000000100000001

# По октетам:
octets = str(ip).split('.')
for octet in octets:
    print(f'{int(octet):08b}', end=' ')  # 11000000 10101000 00000001 00000001

# Обратное преобразование: из числа в IP
number = 3232235777
ip_from_number = ip_address(number)
print(ip_from_number)  # 192.168.1.1
```

## 4. Перебор адресов сети

```python
from ipaddress import ip_network

network = ip_network('192.168.1.0/25')  # меньшая сеть для примера

# Способ 1: Перебор всех адресов (включая сетевой и broadcast)
print("Все адреса:")
for ip in network:
    print(ip)
# Будут выведены: 192.168.1.0, 192.168.1.1, 192.168.1.2, ...

# Способ 2: Перебор только хост-адресов (исключая сетевой и broadcast)
print("\nТолько хост-адреса:")
for host in network.hosts():
    print(host)
# Будут выведены: 192.168.1.1, 192.168.1.2, 192.168.1.3, 192.168.1.4, ...

```
